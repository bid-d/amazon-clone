{"version":3,"sources":["actions/types.js","actions/index.js","firebase.js","components/Header.js","components/Product.js","components/Home.js","components/CheckoutProduct.js","components/history.js","components/Subtotal.js","components/Checkout.js","components/Login.js","components/axios.js","components/Payment.js","components/Order.js","components/Orders.js","components/App.js","reportWebVitals.js","reducers/index.js","reducers/basketReducer.js","reducers/userReducer.js","reducers/intervalReducer.js","index.js"],"names":["ADD_TO_BASKET","REMOVE_FROM_BASKET","SET_USER","LOG_OUT_USER","INTERVAL","EMPTY_BASKET","logOutUser","type","db","firebase","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","measurementId","firestore","auth","Header","logOut","signOut","props","user","clearIntervalMe","clearInterval","interval","console","log","this","link","className","to","src","onClick","email","numberOfItem","React","Component","connect","state","basket","length","Product","item","id","title","image","price","rating","Array","fill","map","_","i","alt","addToBasket","payload","number","count","useEffect","myInterval","setInterval","document","querySelector","checked","name","htmlFor","CheckoutProduct","hideButton","removeFromBasket","key","createBrowserHistory","subtotal","reduce","acc","cur","renderText","value","decimalScale","displayType","thousandSeparator","prefix","history","push","Checkout","renderCheckoutProduct","Login","renderInput","input","label","Fragment","autoComplete","onSubmit","formValues","signInWithEmailAndPassword","password","then","catch","err","alert","message","register","e","preventDefault","createUserWithEmailAndPassword","handleSubmit","Field","component","form","reduxForm","isEmpty","signIn","hasOwnProperty","values","instance","axios","create","baseURL","emptyBasket","stripe","useStripe","elements","useElements","useState","succeeded","setSucceeded","processing","setProcessing","error","setError","disabled","setDisabled","clientSecret","setClientSecret","total","a","method","url","response","data","getClientSecret","confirmCardPayment","payment_method","card","getElement","CardElement","paymentIntent","collection","doc","uid","set","amount","created","replace","onChange","empty","Order","order","moment","unix","format","asket","orders","setOrders","orderBy","onSnapshot","snapshot","docs","promise","loadStripe","setUser","onAuthStateChanged","authUser","path","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","combineReducers","action","filter","formReducer","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","reducers","applyMiddleware","reduxThunk","ReactDOM","render","getElementById"],"mappings":"gjBAAaA,EAAgB,gBAChBC,EAAqB,qBACrBC,EAAW,WACXC,EAAe,eACfC,EAAW,WACXC,EAAe,eCiBfC,EAAa,WACxB,MAAO,CAAEC,KAAMJ,I,QCRXK,EAFcC,IAASC,cAVN,CACrBC,OAAQ,0CACRC,WAAY,kCACZC,UAAW,kBACXC,cAAe,8BACfC,kBAAmB,cACnBC,MAAO,2CACPC,cAAe,iBAKMC,YACjBC,EAAOV,IAASU,O,OCPhBC,E,4MACJC,OAAS,WACPF,EAAKG,UACA,EAAKC,MAAMC,MAAM,EAAKC,mB,EAE7BA,gBAAkB,WAChBC,cAAc,EAAKH,MAAMI,W,4CAG3B,WACEC,QAAQC,IAAIC,KAAKP,OACjB,IAAMC,EAAOM,KAAKP,MAAMC,KAClBO,GAAQP,GAAQ,SACtB,OACE,sBAAKQ,UAAU,SAAf,UACE,cAAC,IAAD,CAAMC,GAAG,IAAT,SACE,qBACED,UAAU,eACVE,IAAI,wDAGR,sBAAKF,UAAU,iBAAf,UACE,uBAAOA,UAAU,sBAAsBzB,KAAK,SAC5C,cAAC,IAAD,CAAYyB,UAAU,0BAExB,sBAAKA,UAAU,cAAf,UACE,cAAC,IAAD,CAAMC,GAAIF,EAAV,SACE,sBAAKC,UAAU,iBAAiBG,QAASL,KAAKT,OAA9C,UACE,sBAAMW,UAAU,wBAAhB,SACGR,EAAI,OAAGA,QAAH,IAAGA,OAAH,EAAGA,EAAMY,MAAQ,gBAExB,sBAAMJ,UAAU,wBAAhB,SACGR,EAAO,WAAa,iBAI3B,cAAC,IAAD,CAAMS,GAAG,UAAT,SACE,sBAAKD,UAAU,iBAAf,UACE,sBAAMA,UAAU,wBAAhB,qBACA,sBAAMA,UAAU,wBAAhB,2BAGJ,sBAAKA,UAAU,iBAAf,UACE,sBAAMA,UAAU,wBAAhB,kBACA,sBAAMA,UAAU,wBAAhB,sBAEF,sBAAKA,UAAU,uBAAf,UACE,eAAC,IAAD,CAAMC,GAAG,YAAYE,QAASL,KAAKL,gBAAnC,UACG,IACD,cAAC,IAAD,OAEF,sBAAMO,UAAU,4CAAhB,SACGF,KAAKP,MAAMc,4B,GApDLC,IAAMC,WAqEZC,eARS,SAACC,GAAW,IAAD,EACjC,MAAO,CACLJ,aAAY,UAAEI,EAAMC,cAAR,aAAE,EAAcC,OAC5BnB,KAAMiB,EAAMjB,KACZG,SAAUc,EAAMd,YAIoB,CAAErB,cAA3BkC,CAAyCpB,GCxElDwB,G,0NACJC,KAAO,CACLC,GAAI,EAAKvB,MAAMuB,GACfC,MAAO,EAAKxB,MAAMwB,MAClBC,MAAO,EAAKzB,MAAMyB,MAClBC,MAAO,EAAK1B,MAAM0B,MAClBC,OAAQ,EAAK3B,MAAM2B,Q,4CAGrB,WAAU,IAAD,OACP,EAAwCpB,KAAKP,MAArCwB,EAAR,EAAQA,MAAOC,EAAf,EAAeA,MAAOC,EAAtB,EAAsBA,MAAOC,EAA7B,EAA6BA,OAC7B,OACE,sBAAKlB,UAAU,UAAf,UACE,sBAAKA,UAAU,iBAAf,UACE,4BAAIe,IACJ,oBAAGf,UAAU,iBAAb,UACE,sCACA,iCAASiB,OAEX,qBAAKjB,UAAU,kBAAf,SACGmB,MAAMD,GACJE,OACAC,KAAI,SAACC,EAAGC,GAAJ,OACH,sCAAQA,WAIhB,qBAAKrB,IAAKc,EAAOQ,IAAI,KACrB,wBACErB,QAAS,WACP,EAAKZ,MAAMkC,YAAY,EAAKZ,OAFhC,kC,GA5BcP,IAAMC,YAwCbC,cAAQ,KAAM,CAAEiB,YHpCJ,SAACZ,GAC1B,MAAO,CAAEtC,KAAMP,EAAe0D,QAASb,KGmC1BL,CAA+BI,GCgF/BJ,kBAAQ,KAAM,CAAEb,SJpGP,SAACgC,GACvB,MAAO,CAAEpD,KAAMH,EAAUsD,QAASC,KImGrBnB,EAxHf,SAAcjB,GACZ,IAAIqC,EAAQ,EASZ,OARAC,qBAAU,WACR,IAAMC,EAAaC,aAAY,WAC7BC,SAASC,cAAT,gBAAgCL,IAASM,SAAU,EACnDN,EAAQ,EAAKA,EAAQ,EAAKA,MACzB,KACHhC,QAAQC,IAAIN,EAAMI,SAASmC,MAC1B,IAGD,qBAAK9B,UAAU,OAAf,SACE,sBAAKA,UAAU,kBAAf,UACE,sBAAKA,UAAU,wBAAf,UAEE,uBAAOzB,KAAK,QAAQ4D,KAAK,YAAYrB,GAAG,WACxC,uBAAOvC,KAAK,QAAQ4D,KAAK,YAAYrB,GAAG,WACxC,uBAAOvC,KAAK,QAAQ4D,KAAK,YAAYrB,GAAG,WACxC,uBAAOvC,KAAK,QAAQ4D,KAAK,YAAYrB,GAAG,WAExC,sBAAKd,UAAU,kBAAf,UACE,uBACEG,QAAS,kBAAOyB,EAAQ,GACxBQ,QAAQ,SACRpC,UAAU,gBAEZ,uBACEG,QAAS,kBAAOyB,EAAQ,GACxBQ,QAAQ,SACRpC,UAAU,gBAEZ,uBACEG,QAAS,kBAAOyB,EAAQ,GACxBQ,QAAQ,SACRpC,UAAU,gBAEZ,uBACEG,QAAS,kBAAOyB,EAAQ,GACxBQ,QAAQ,SACRpC,UAAU,mBAId,qBACEA,UAAU,0BACVE,IAAI,6KACJsB,IAAI,KAEN,qBACExB,UAAU,oBACVE,IAAI,oIACJsB,IAAI,KAEN,qBACExB,UAAU,oBACVE,IAAI,iIACJsB,IAAI,KAEN,qBACExB,UAAU,oBACVE,IAAI,6KACJsB,IAAI,QAGR,sBAAKxB,UAAU,YAAf,UACE,cAAC,EAAD,CACEc,GAAG,WACHC,MAAM,8FACNE,MAAO,MACPD,MAAM,8EACNE,OAAQ,IAEV,cAAC,EAAD,CACEJ,GAAG,WACHC,MAAM,qHACNE,MAAO,IACPC,OAAQ,EACRF,MAAM,mFAKV,sBAAKhB,UAAU,YAAf,UACE,cAAC,EAAD,CACEc,GAAG,UACHC,MAAM,uDACNE,MAAO,OACPC,OAAQ,EACRF,MAAM,gFAER,cAAC,EAAD,CACEF,GAAG,WACHC,MAAM,2EACNE,MAAO,MACPC,OAAQ,EACRF,MAAM,gFAER,cAAC,EAAD,CACEF,GAAG,aACHC,MAAM,wEACNE,MAAO,OACPC,OAAQ,EACRF,MAAM,mFAGV,qBAAKhB,UAAU,YAAf,SACE,cAAC,EAAD,CACEc,GAAG,WACHC,MAAM,gGAENE,MAAO,QACPC,OAAQ,EACRF,MAAM,0FCjHZqB,G,0KACJ,WAAU,IAAD,OACP,EAAoDvC,KAAKP,MAAjDyB,EAAR,EAAQA,MAAOD,EAAf,EAAeA,MAAOE,EAAtB,EAAsBA,MAAOC,EAA7B,EAA6BA,OAAQoB,EAArC,EAAqCA,WACrC,OACE,sBAAKtC,UAAU,kBAAf,UACE,qBAAKA,UAAU,yBAAyBE,IAAKc,EAAOQ,IAAI,KACxD,sBAAKxB,UAAU,0BAAf,UACE,mBAAGA,UAAU,yBAAb,SAAuCe,IACvC,oBAAGf,UAAU,yBAAb,UACE,sCACA,iCAASiB,OAEX,qBAAKjB,UAAU,0BAAf,SACGmB,MAAMD,GACJE,OACAC,KAAI,SAACC,EAAGC,GAAJ,OACH,sCAAQA,SAGZe,GACA,wBACEnC,QAAS,WACP,EAAKZ,MAAMgD,iBAAiB,EAAKhD,MAAMoC,SAF3C,0C,GApBkBrB,IAAMC,YAkCrBC,cAAQ,KAAM,CAAE+B,iBLzBC,SAACC,GAC/B,MAAO,CAAEjE,KAAMN,EAAoByD,QAASc,KKwB/BhC,CAAoC6B,G,kCCrCpCI,gBCyCf,IAIejC,eAJS,SAACC,GACvB,MAAO,CAAEC,OAAQD,EAAMC,UAGVF,EAzCf,SAAkBjB,GAAQ,IAAD,IACjBoB,EAASpB,EAAMmB,OAAOC,OACtB+B,EAAQ,UAAGnD,EAAMmB,cAAT,iBAAG,EACbW,KAAI,SAACR,GAAD,OAAUA,EAAKI,gBADT,aAAG,EAEb0B,QAAO,SAACC,EAAKC,GAAN,OAAcD,EAAMC,IAAK,GAEpC,OACE,sBAAK7C,UAAU,WAAf,UACE,cAAC,IAAD,CACE8C,WAAY,SAACC,GAAD,OACV,qCACE,2CACapC,EADb,YAC6B,iCAASoC,OAEtC,wBAAO/C,UAAU,iBAAjB,UACE,uBAAOzB,KAAK,aADd,qCAKJyE,aAAc,EACdD,MAAOL,EACPO,YAAa,OACbC,mBAAmB,EACnBC,OAAQ,MAEV,wBACEhD,QAAS,WACPiD,EAAQC,KAAK,YACbzD,QAAQC,IAAI,UAHhB,uCCxBAyD,E,2KACJ,SAAsB5C,GACpB,OAAOA,EAAOW,KAAI,SAACR,EAAMU,GACvB,IAAQT,EAAoCD,EAApCC,GAAII,EAAgCL,EAAhCK,OAAQH,EAAwBF,EAAxBE,MAAOC,EAAiBH,EAAjBG,MAAOC,EAAUJ,EAAVI,MAClC,OACE,cAAC,EAAD,CACEU,OAAQJ,EAERT,GAAIA,EACJC,MAAOA,EACPG,OAAQA,EACRF,MAAOA,EACPC,MAAOA,GALFM,Q,oBAWb,WAAU,IAAD,EACP,OACE,sBAAKvB,UAAU,WAAf,UACE,sBAAKA,UAAU,gBAAf,UACE,qBACEA,UAAU,eACVE,IAAI,+FACJsB,IAAI,KAEN,gCACE,mDAAY1B,KAAKP,MAAMC,YAAvB,aAAY,EAAiBY,SAC7B,oBAAIJ,UAAU,kBAAd,kCAECF,KAAKyD,sBAAsBzD,KAAKP,MAAMmB,cAG3C,qBAAKV,UAAU,kBAAf,SACE,cAAC,EAAD,a,GAnCaM,IAAMC,WA8CdC,eAJS,SAACC,GACvB,MAAO,CAAEC,OAAQD,EAAMC,OAAQlB,KAAMiB,EAAMjB,QAG9BgB,CAAyB8C,G,qDC5ClCE,E,4MACJC,YAAc,YAA6B,IAA1BC,EAAyB,EAAzBA,MAAOC,EAAkB,EAAlBA,MAAOpF,EAAW,EAAXA,KAC7B,OACE,eAAC,IAAMqF,SAAP,WACE,6BAAKD,IACL,iDAAWD,GAAX,IAAkBG,aAAa,MAAMtF,KAAMA,S,EAKjDuF,SAAW,SAACC,GACV5E,EACG6E,2BAA2B,EAAKzE,MAAMa,MAAO,EAAKb,MAAM0E,UACxDC,MAAK,SAAC/E,GACLiE,EAAQC,KAAK,QAEdc,OAAM,SAACC,GAAD,OAASC,MAAMD,EAAIE,a,EAG9BC,SAAW,SAACC,GACVA,EAAEC,iBAEFtF,EACGuF,+BAA+B,EAAKnF,MAAMa,MAAO,EAAKb,MAAM0E,UAC5DC,MAAK,SAAC/E,GAGLS,QAAQC,IAAIV,GACRA,GACFiE,EAAQC,KAAK,QAGhBc,OAAM,SAACC,GAAD,OAASC,MAAMD,EAAIE,a,4CAG9B,WACE,OACE,sBAAKtE,UAAU,QAAf,UACE,cAAC,IAAD,CAAMC,GAAG,IAAT,SACE,qBACED,UAAU,cACVE,IAAI,uGACJsB,IAAI,OAGR,sBAAKxB,UAAU,mBAAf,UACE,yCACA,uBAAM8D,SAAUhE,KAAKP,MAAMoF,aAAa7E,KAAKgE,UAA7C,UACE,cAACc,EAAA,EAAD,CACErG,KAAK,OACLoF,MAAM,SACNxB,KAAK,QACL0C,UAAW/E,KAAK2D,cAElB,cAACmB,EAAA,EAAD,CACErG,KAAK,WACLoF,MAAM,WACNxB,KAAK,WACL0C,UAAW/E,KAAK2D,cAGlB,wBAAQlF,KAAK,SAASyB,UAAU,sBAAhC,wBAKF,+LAKA,wBAAQG,QAASL,KAAKyE,SAAUvE,UAAU,wBAA1C,kD,GAvEUM,IAAMC,WAwFpBuE,EAAOC,YAAU,CACrBD,KAAM,UADKC,CAEVvB,GAEYhD,eAZS,SAACC,GACvB,GAAIa,IAAE0D,QAAQvE,EAAMqE,MAAO,MAAO,CAAE1E,MAAO,GAAI6D,SAAU,IACzD,IAAKxD,EAAMqE,KAAKG,OAAOC,eAAe,UACpC,MAAO,CAAE9E,MAAO,GAAI6D,SAAU,IAChC,MAA4BxD,EAAMqE,KAAKG,OAAOE,OAC9C,MAAO,CAAE/E,MADT,EAAQA,MACQ6D,SADhB,EAAeA,YAQFzD,CAAyBsE,G,8CC/FzBM,G,QAJEC,EAAMC,OAAO,CAC5BC,QAAS,0D,kBC6JX,IAIe/E,gBAJS,SAACC,GACvB,MAAO,CAAEjB,KAAMiB,EAAMjB,KAAMkB,OAAQD,EAAMC,UAGH,CAAE8E,YXtIf,WACzB,MAAO,CAAEjH,KAAMF,KWqIFmC,EAxJf,YAAiD,IAAD,EAA7BhB,EAA6B,EAA7BA,KAAMkB,EAAuB,EAAvBA,OAAQ8E,EAAe,EAAfA,YACzBC,EAASC,uBACTC,EAAWC,yBAEjB,EAAkCC,oBAAS,GAA3C,oBAAOC,EAAP,KAAkBC,EAAlB,KACA,EAAoCF,mBAAS,IAA7C,oBAAOG,EAAP,KAAmBC,EAAnB,KACA,EAA0BJ,mBAAS,MAAnC,oBAAOK,EAAP,KAAcC,EAAd,KACA,EAAgCN,oBAAS,GAAzC,oBAAOO,EAAP,KAAiBC,EAAjB,KACA,EAAwCR,oBAAS,GAAjD,oBAAOS,EAAP,KAAqBC,EAArB,KAEMC,EAAK,OAAG9F,QAAH,IAAGA,GAAH,UAAGA,EACVW,KAAI,SAACR,GAAD,OAAUA,EAAKI,gBADZ,aAAG,EAEV0B,QAAO,SAACC,EAAKC,GAAN,OAAcD,EAAMC,IAAK,GAEpChB,qBAAU,YAEa,yCAAG,6BAAA4E,EAAA,sEACCpB,GAAM,CAC3BqB,OAAQ,OAERC,IAAI,0BAAD,OAAoC,IAARH,KAJX,OAChBI,EADgB,OAMtBL,EAAgBK,EAASC,KAAKP,cANR,2CAAH,qDASrBQ,KACC,CAACpG,IAEJd,QAAQC,IAAI,oBAAqByG,GACjC1G,QAAQC,IAAIL,GAEZ,IAAMmF,EAAY,yCAAG,WAAOH,GAAP,UAAAiC,EAAA,6DACnBjC,EAAEC,iBACFwB,GAAc,GAFK,SAIGR,EACnBsB,mBAAmBT,EAAc,CAChCU,eAAgB,CACdC,KAAMtB,EAASuB,WAAWC,mBAG7BjD,MAAK,YAAwB,IAArBkD,EAAoB,EAApBA,cAEP5I,EAAG6I,WAAW,SACXC,IADH,OACO9H,QADP,IACOA,OADP,EACOA,EAAM+H,KACVF,WAAW,UACXC,IAAIF,EAActG,IAClB0G,IAAI,CACH9G,OAAQA,EACR+G,OAAQL,EAAcK,OACtBC,QAASN,EAAcM,UAG3B3B,GAAa,GACbI,EAAS,MACTF,GAAc,GAEdT,IAEApC,EAAQuE,QAAQ,cA5BD,yDAAH,sDAqClB,OACE,qBAAK3H,UAAU,UAAf,SACE,sBAAKA,UAAU,qBAAf,UACE,2CACW,eAAC,IAAD,CAAMC,GAAG,WAAT,iBAAqBS,QAArB,IAAqBA,OAArB,EAAqBA,EAAQC,OAA7B,WADX,OAIA,sBAAKX,UAAU,mBAAf,UACE,qBAAKA,UAAU,iBAAf,SACE,oDAEF,sBAAKA,UAAU,mBAAf,UACE,mCAAIR,QAAJ,IAAIA,OAAJ,EAAIA,EAAMY,QACV,uDACA,2DAIJ,sBAAKJ,UAAU,mBAAf,UACE,qBAAKA,UAAU,iBAAf,SACE,6DAEF,qBAAKA,UAAU,iBAAf,SACGU,EAAOW,KAAI,SAACR,EAAMU,GACjB,IAAQT,EAAoCD,EAApCC,GAAII,EAAgCL,EAAhCK,OAAQH,EAAwBF,EAAxBE,MAAOC,EAAiBH,EAAjBG,MAAOC,EAAUJ,EAAVI,MAClC,OACE,cAAC,EAAD,CACEU,OAAQJ,EAERT,GAAIA,EACJI,OAAQA,EACRH,MAAOA,EACPC,MAAOA,EACPC,MAAOA,GALFM,WAaf,sBAAKvB,UAAU,mBAAf,UACE,qBAAKA,UAAU,iBAAf,SACE,kDAEF,qBAAKA,UAAU,mBAAf,SAEE,uBAAM8D,SAAUa,EAAhB,UACE,cAAC,eAAD,CAAaiD,SArDJ,SAACpD,GACpB6B,EAAY7B,EAAEqD,OACd1B,EAAS3B,EAAE0B,MAAQ1B,EAAE0B,MAAM5B,QAAU,OAqD3B,sBAAKtE,UAAU,wBAAf,UACE,cAAC,IAAD,CACE8C,WAAY,SAACC,GAAD,OACV,mCACE,+CAAkBA,EAAlB,UAGJC,aAAc,EACdD,MAAOyD,EACPvD,YAAa,OACbC,mBAAmB,EACnBC,OAAQ,MAEV,yBAAQiD,SAAUJ,GAAcI,GAAYN,IAActG,EAA1D,UACG,IACD,+BAAOwG,EAAa,2CAAoB,gBAExCxG,GAAQ,4DAIX0G,GAAS,8BAAMA,oB,qCC5Gf4B,OArCf,YAA2B,IAAD,EAATC,EAAS,EAATA,MACf,OACE,sBAAK/H,UAAU,QAAf,UACE,uCACA,4BAAIgI,KAAOC,KAAKF,EAAMlB,KAAKa,SAASQ,OAAO,yBAE3C,mBAAGlI,UAAU,WAAb,SACE,gCAAQ+H,EAAMjH,OALlB,UAOGiH,EAAMlB,KAAKnG,cAPd,aAOG,EAAmBW,KAAI,SAACR,EAAMU,GAAP,OACtB,cAAC,EAAD,CACEI,OAAQJ,EAERT,GAAID,EAAKC,GACTC,MAAOF,EAAKE,MACZC,MAAOH,EAAKG,MACZC,MAAOJ,EAAKI,MACZC,OAAQL,EAAKK,OACboB,YAAY,GANPf,MAST,cAAC,IAAD,CACEuB,WAAY,SAACC,GAAD,OACV,mCACE,qBAAI/C,UAAU,eAAd,0BAA2C+C,QAG/CC,aAAc,EACdD,MAAOgF,EAAMlB,KAAKY,OAAS,IAC3BxE,YAAa,OACbC,mBAAmB,EACnBC,OAAQ,UCGhB,IAIe3C,gBAJS,SAACC,GACvB,MAAO,CAAEC,OAAQD,EAAM0H,MAAO3I,KAAMiB,EAAMjB,QAG7BgB,EAtCf,YAAkC,EAAhBE,OAAiB,IAATlB,EAAQ,EAARA,KACxB,EAA4BqG,mBAAS,IAArC,oBAAOuC,EAAP,KAAeC,EAAf,KAqBA,OAnBAxG,qBAAU,WACJrC,EACFhB,EAAG6I,WAAW,SACXC,IADH,OACO9H,QADP,IACOA,OADP,EACOA,EAAM+H,KACVF,WAAW,UACXiB,QAAQ,UAAW,QACnBC,YAAW,SAACC,GAAD,OACVH,EACEG,EAASC,KAAKpH,KAAI,SAACiG,GAAD,MAAU,CAC1BxG,GAAIwG,EAAIxG,GACR+F,KAAMS,EAAIT,eAKlBwB,EAAU,MAEX,CAAC7I,IACJI,QAAQC,IAAIuI,GAEV,sBAAKpI,UAAU,SAAf,UACE,gDACA,qBAAKA,UAAU,eAAf,gBACGoI,QADH,IACGA,OADH,EACGA,EAAQ/G,KAAI,SAAC0G,GAAD,OACX,cAAC,GAAD,CAAOA,MAAOA,e,UChBlBW,GAAUC,aACd,+GAiDanI,mBAAQ,KAAM,CAAEoI,QdjDR,SAACpJ,GACtB,MAAO,CAAEjB,KAAML,EAAUwD,QAASlC,IcgDIlB,cAAzBkC,EA9Cf,YAAuC,IAAxBoI,EAAuB,EAAvBA,QAAStK,EAAc,EAAdA,WAetB,OAdAuD,qBAAU,WACR1C,EAAK0J,oBAAmB,SAACC,GACvBlJ,QAAQC,IAAI,oBAAqBiJ,GAC7BA,EAEFF,EAAQE,IAERxK,IACAsB,QAAQC,IAAI,cAIf,IAGD,cAAC,IAAD,CAAQuD,QAASA,EAAjB,SACE,qBAAKpD,UAAU,MAAf,SACE,eAAC,IAAD,WACE,eAAC,IAAD,CAAO+I,KAAK,UAAZ,UACE,cAAC,EAAD,IACA,cAAC,GAAD,OAEF,cAAC,IAAD,CAAOA,KAAK,SAAZ,SACE,cAAC,EAAD,MAEF,eAAC,IAAD,CAAOA,KAAK,YAAZ,UACE,cAAC,EAAD,IACA,cAAC,EAAD,OAEF,eAAC,IAAD,CAAOA,KAAK,WAAZ,UACE,cAAC,EAAD,IACA,cAAC,YAAD,CAAUtD,OAAQiD,GAAlB,SACE,cAAC,GAAD,SAGJ,eAAC,IAAD,CAAOK,KAAK,IAAZ,UACE,cAAC,EAAD,IACA,cAAC,EAAD,iBC/CGC,GAZS,SAAAC,GAClBA,GAAeA,aAAuBC,UACxC,8BAAqBhF,MAAK,YAAkD,IAA/CiF,EAA8C,EAA9CA,OAAQC,EAAsC,EAAtCA,OAAQC,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QAC3DJ,EAAOF,GACPG,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAQN,O,mBCFCO,eAAgB,CAC7B9I,OCAa,WAAyB,IAAxBD,EAAuB,uDAAf,GAAIgJ,EAAW,uCACrC,OAAQA,EAAOlL,MACb,KAAKP,EAEH,OADA4B,QAAQC,IAAI,OACN,GAAN,oBAAWY,GAAX,CAAkBgJ,EAAO/H,UAC3B,KAAKzD,EAEH,OADA2B,QAAQC,IAAI,UACL,aAAIY,GAAOiJ,QAAO,SAACpI,EAAGC,GAAJ,OAAUA,IAAMkI,EAAO/H,WAClD,KAAKrD,EACH,MAAO,GACT,QACE,OAAOoC,IDVXqE,KAAM6E,KACNnK,KENa,WAA2B,IAA1BiB,EAAyB,uDAAjB,KAAMgJ,EAAW,uCACvC,OAAQA,EAAOlL,MACb,KAAKL,EACH,OAAOuL,EAAO/H,QAChB,KAAKvD,EACH,OAAO,KACT,QACE,OAAOsC,IFAXd,SGPa,WAA2B,IAA1Bc,EAAyB,uDAAjB,KAAMgJ,EAAW,uCACvC,OAAQA,EAAOlL,MACb,KAAKH,EAEH,OADAwB,QAAQC,IAAI,oBACL4J,EAAO/H,QAChB,QAEE,OADA9B,QAAQC,IAAI,iBACLY,MCEPmJ,GAAmBC,OAAOC,sCAAwCC,IAElEC,GAAQC,YACZC,GACAN,GAAiBO,YAAgBC,OAGnCC,IAASC,OACP,cAAC,IAAD,CAAUN,MAAOA,GAAjB,SACE,cAAC,GAAD,MAEFhI,SAASuI,eAAe,SAM1BvB,O","file":"static/js/main.0855c24f.chunk.js","sourcesContent":["export const ADD_TO_BASKET = \"ADD_TO_BASKET\";\nexport const REMOVE_FROM_BASKET = \"REMOVE_FROM_BASKET\";\nexport const SET_USER = \"SET_USER\";\nexport const LOG_OUT_USER = \"LOG_OUT_USER\";\nexport const INTERVAL = \"INTERVAL\";\nexport const EMPTY_BASKET = \"EMPTY_BASKET\";\nexport const FETCH_ORDER = \"FETCH_ORDER\";\n","import {\n  ADD_TO_BASKET,\n  EMPTY_BASKET,\n  FETCH_ORDER,\n  INTERVAL,\n  LOG_OUT_USER,\n  REMOVE_FROM_BASKET,\n  SET_USER,\n} from \"./types\";\n\nexport const addToBasket = (item) => {\n  return { type: ADD_TO_BASKET, payload: item };\n};\n\nexport const removeFromBasket = (key) => {\n  return { type: REMOVE_FROM_BASKET, payload: key };\n};\n\nexport const setUser = (user) => {\n  return { type: SET_USER, payload: user };\n};\n\nexport const logOutUser = () => {\n  return { type: LOG_OUT_USER };\n};\n\nexport const interval = (number) => {\n  return { type: INTERVAL, payload: number };\n};\n\nexport const emptyBasket = () => {\n  return { type: EMPTY_BASKET };\n};\n\nexport const fetchOrders = (orders) => {\n  return { type: FETCH_ORDER, payload: orders };\n};\n","// For Firebase JS SDK v7.20.0 and later, measurementId is optional\nimport firebase from \"firebase\";\n\nconst firebaseConfig = {\n  apiKey: \"AIzaSyDC9Y7B-7NmTmS1WSEpi0t1leDlI3DD_Bo\",\n  authDomain: \"challange-d6c64.firebaseapp.com\",\n  projectId: \"challange-d6c64\",\n  storageBucket: \"challange-d6c64.appspot.com\",\n  messagingSenderId: \"58498485353\",\n  appId: \"1:58498485353:web:4d681c3d2612dd151126f8\",\n  measurementId: \"G-KCNG9QB914\",\n};\n\nconst firebaseApp = firebase.initializeApp(firebaseConfig);\n\nconst db = firebaseApp.firestore();\nconst auth = firebase.auth();\n\nexport { db, auth };\n","import React from \"react\";\nimport \"./Header.css\";\nimport SearchIcon from \"@material-ui/icons/Search\";\nimport ShoppingBasketIcon from \"@material-ui/icons/ShoppingBasket\";\nimport { Link } from \"react-router-dom\";\nimport { connect } from \"react-redux\";\nimport { logOutUser } from \"../actions\";\nimport { auth } from \"../firebase\";\n\nclass Header extends React.Component {\n  logOut = () => {\n    auth.signOut();\n    if (!this.props.user) this.clearIntervalMe();\n  };\n  clearIntervalMe = () => {\n    clearInterval(this.props.interval);\n  };\n\n  render() {\n    console.log(this.props);\n    const user = this.props.user;\n    const link = !user && \"/login\";\n    return (\n      <div className=\"header\">\n        <Link to=\"/\">\n          <img\n            className=\"header__logo\"\n            src=\"http://pngimg.com/uploads/amazon/amazon_PNG11.png\"\n          />\n        </Link>\n        <div className=\"header__search\">\n          <input className=\"header__searchInput\" type=\"text\" />\n          <SearchIcon className=\"header__searchIcon\" />\n        </div>\n        <div className=\"header__nav\">\n          <Link to={link}>\n            <div className=\"header__option\" onClick={this.logOut}>\n              <span className=\"header__optionLineOne\">\n                {user ? user?.email : \"Hello Guest\"}\n              </span>\n              <span className=\"header__optionLineTwo\">\n                {user ? \"Sign out\" : \"Sign In\"}\n              </span>\n            </div>\n          </Link>\n          <Link to=\"/orders\">\n            <div className=\"header__option\">\n              <span className=\"header__optionLineOne\">Returns</span>\n              <span className=\"header__optionLineTwo\">& Orders</span>\n            </div>\n          </Link>\n          <div className=\"header__option\">\n            <span className=\"header__optionLineOne\">Your</span>\n            <span className=\"header__optionLineTwo\">Prime</span>\n          </div>\n          <div className=\"header__optionBasket\">\n            <Link to=\"/checkout\" onClick={this.clearIntervalMe}>\n              {\" \"}\n              <ShoppingBasketIcon />\n            </Link>\n            <span className=\"header__optionLineTwo header__basketCount\">\n              {this.props.numberOfItem}\n            </span>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = (state) => {\n  return {\n    numberOfItem: state.basket?.length,\n    user: state.user,\n    interval: state.interval,\n  };\n};\n\nexport default connect(mapStateToProps, { logOutUser })(Header);\n","import React from \"react\";\nimport { connect } from \"react-redux\";\n\nimport { addToBasket } from \"../actions\";\nimport \"./Product.css\";\n\nclass Product extends React.Component {\n  item = {\n    id: this.props.id,\n    title: this.props.title,\n    image: this.props.image,\n    price: this.props.price,\n    rating: this.props.rating,\n  };\n\n  render() {\n    const { title, image, price, rating } = this.props;\n    return (\n      <div className=\"product\">\n        <div className=\"product__infor\">\n          <p>{title}</p>\n          <p className=\"product__price\">\n            <small>$</small>\n            <strong>{price}</strong>\n          </p>\n          <div className=\"product__rating\">\n            {Array(rating)\n              .fill()\n              .map((_, i) => (\n                <p key={i}>⭐</p>\n              ))}\n          </div>\n        </div>\n        <img src={image} alt=\"\" />\n        <button\n          onClick={() => {\n            this.props.addToBasket(this.item);\n          }}\n        >\n          Add to Basket\n        </button>\n      </div>\n    );\n  }\n}\n\nexport default connect(null, { addToBasket })(Product);\n","import React, { useEffect } from \"react\";\nimport \"./Home.css\";\nimport Product from \"./Product\";\nimport { connect } from \"react-redux\";\nimport { interval } from \"../actions\";\n\nfunction Home(props) {\n  let count = 1;\n  useEffect(() => {\n    const myInterval = setInterval(() => {\n      document.querySelector(`#radio${count}`).checked = true;\n      count > 3 ? (count = 1) : count++;\n    }, 3000);\n    console.log(props.interval(myInterval));\n  }, []);\n\n  return (\n    <div className=\"home\">\n      <div className=\"home__container\">\n        <div className=\"home__image_container\">\n          {/* Radio button */}\n          <input type=\"radio\" name=\"radio-btn\" id=\"radio1\" />\n          <input type=\"radio\" name=\"radio-btn\" id=\"radio2\" />\n          <input type=\"radio\" name=\"radio-btn\" id=\"radio3\" />\n          <input type=\"radio\" name=\"radio-btn\" id=\"radio4\" />\n\n          <div className=\"navigation__btn\">\n            <label\n              onClick={() => (count = 1)}\n              htmlFor=\"radio1\"\n              className=\"manual__btn\"\n            ></label>\n            <label\n              onClick={() => (count = 2)}\n              htmlFor=\"radio2\"\n              className=\"manual__btn\"\n            ></label>\n            <label\n              onClick={() => (count = 3)}\n              htmlFor=\"radio3\"\n              className=\"manual__btn\"\n            ></label>\n            <label\n              onClick={() => (count = 4)}\n              htmlFor=\"radio4\"\n              className=\"manual__btn\"\n            ></label>\n          </div>\n\n          <img\n            className=\"home__image slide first\"\n            src=\"https://images-na.ssl-images-amazon.com/images/G/02/digital/video/merch2016/Hero/Covid19/Generic/GWBleedingHero_ENG_COVIDUPDATE__XSite_1500x600_PV_en-GB._CB428684220_.jpg\"\n            alt=\"\"\n          />\n          <img\n            className=\"home__image slide\"\n            src=\"https://images-na.ssl-images-amazon.com/images/G/01/AmazonExports/Fuji/2020/May/Hero/Fuji_TallHero_Computers_1x._CB432469755_.jpg\"\n            alt=\"\"\n          />\n          <img\n            className=\"home__image slide\"\n            src=\"https://images-na.ssl-images-amazon.com/images/G/01/AmazonExports/Fuji/2020/May/Hero/Fuji_TallHero_45M_v2_1x._CB432458380_.jpg\"\n            alt=\"\"\n          />\n          <img\n            className=\"home__image slide\"\n            src=\"https://images-na.ssl-images-amazon.com/images/G/02/digital/video/merch2016/Hero/Covid19/Generic/GWBleedingHero_ENG_COVIDUPDATE__XSite_1500x600_PV_en-GB._CB428684220_.jpg\"\n            alt=\"\"\n          />\n        </div>\n        <div className=\"home__row\">\n          <Product\n            id=\"12321341\"\n            title=\"The Lean Startup: How Constant Innovation Creates Radically Successful Businesses Paperback\"\n            price={11.96}\n            image=\"https://images-na.ssl-images-amazon.com/images/I/51Zymoq7UnL._AC_SY400_.jpg\"\n            rating={5}\n          />\n          <Product\n            id=\"49538094\"\n            title=\"Henwood kMix Stand Mixer fro Baking, Stylish Kitchen Mixer with K-beater, Dough Hook and Whisk, 5 Litre Glass Bowl\"\n            price={239.0}\n            rating={4}\n            image=\"https://images-na.ssl-images-amazon.com/images/I/51Zymoq7UnL._AC_SY400_.jpg\"\n          />\n\n          {/*Product */}\n        </div>\n        <div className=\"home__row\">\n          <Product\n            id=\"4903850\"\n            title=\"Samsung LC49RG90SSuXen 49' Curved LED Gaming Monitor\"\n            price={199.99}\n            rating={3}\n            image=\"https://images-na.ssl-images-amazon.com/images/I/71Swqqe7XAL._AC_SX466_.jpg\"\n          />\n          <Product\n            id=\"23445930\"\n            title=\"Amazon Echo (3rd generation) | Smart speaker with ALexa, Charcoal Fabric\"\n            price={98.99}\n            rating={5}\n            image=\"https://images-na.ssl-images-amazon.com/images/I/71Swqqe7XAL._AC_SX466_.jpg\"\n          />\n          <Product\n            id=\"3254354345\"\n            title=\"New Apple Ipad Pro(12.9-inch, Wi-Fi, 128GB) - Silver (4th Generation)\"\n            price={598.99}\n            rating={4}\n            image=\"https://images-na.ssl-images-amazon.com/images/I/816ctt5WV5L._AC_SX385_.jpg\"\n          />\n        </div>\n        <div className=\"home__row\">\n          <Product\n            id=\"90829332\"\n            title=\"Samsung LC49RG90SSUXEN 49' Curved LED GAming Monitor - Super Ultra Wide\n            Dual WQHD 5120 x 1440\"\n            price={1094.98}\n            rating={4}\n            image=\"https://images-na.ssl-images-amazon.com/images/I/6125mFrzr6L._AC_SX355_.jpg\"\n          />\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default connect(null, { interval })(Home);\n","import React from \"react\";\nimport \"./CheckoutProduct.css\";\nimport { removeFromBasket } from \"../actions\";\nimport { connect } from \"react-redux\";\n\nclass CheckoutProduct extends React.Component {\n  render() {\n    const { image, title, price, rating, hideButton } = this.props;\n    return (\n      <div className=\"checkoutProduct\">\n        <img className=\"checkoutProduct__image\" src={image} alt=\"\" />\n        <div className=\"checkoutProduct__infor \">\n          <p className=\"checkoutProduct__title\">{title}</p>\n          <p className=\"checkoutProduct__price\">\n            <small>$</small>\n            <strong>{price}</strong>\n          </p>\n          <div className=\"checkoutProduct__rating\">\n            {Array(rating)\n              .fill()\n              .map((_, i) => (\n                <p key={i}>⭐</p>\n              ))}\n          </div>\n          {!hideButton && (\n            <button\n              onClick={() => {\n                this.props.removeFromBasket(this.props.number);\n              }}\n            >\n              Remove from Basket\n            </button>\n          )}\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default connect(null, { removeFromBasket })(CheckoutProduct);\n","import { createBrowserHistory } from \"history\";\n\nexport default createBrowserHistory();\n","import React from \"react\";\nimport \"./Subtotal.css\";\nimport CurrencyFormat from \"react-currency-format\";\nimport { connect } from \"react-redux\";\nimport history from \"./history\";\n\nfunction Subtotal(props) {\n  const length = props.basket.length;\n  const subtotal = props.basket\n    ?.map((item) => item.price)\n    ?.reduce((acc, cur) => acc + cur, 0);\n\n  return (\n    <div className=\"subtotal\">\n      <CurrencyFormat\n        renderText={(value) => (\n          <>\n            <p>\n              Subtotal ({length} items): <strong>{value}</strong>\n            </p>\n            <small className=\"subtotal__gift\">\n              <input type=\"checkbox\" /> This order contains a gift\n            </small>\n          </>\n        )}\n        decimalScale={2}\n        value={subtotal}\n        displayType={\"text\"}\n        thousandSeparator={true}\n        prefix={\"$\"}\n      />\n      <button\n        onClick={() => {\n          history.push(\"/payment\");\n          console.log(\"click\");\n        }}\n      >\n        Proceed to Checkout\n      </button>\n    </div>\n  );\n}\n\nconst mapStateToProps = (state) => {\n  return { basket: state.basket };\n};\n\nexport default connect(mapStateToProps)(Subtotal);\n","import React from \"react\";\nimport \"./Checkout.css\";\nimport CheckoutProduct from \"./CheckoutProduct\";\nimport Subtotal from \"./Subtotal\";\nimport { connect } from \"react-redux\";\nimport { FormatListNumbered } from \"@material-ui/icons\";\n\nclass Checkout extends React.Component {\n  renderCheckoutProduct(basket) {\n    return basket.map((item, i) => {\n      const { id, rating, title, image, price } = item;\n      return (\n        <CheckoutProduct\n          number={i}\n          key={i}\n          id={id}\n          title={title}\n          rating={rating}\n          image={image}\n          price={price}\n        />\n      );\n    });\n  }\n\n  render() {\n    return (\n      <div className=\"checkout\">\n        <div className=\"checkout_left\">\n          <img\n            className=\"checkout__ad\"\n            src=\"https://images-na.ssl-images-amazon.com/images/G/02/UK_CCMP/TM/OCC_Amazon1._CB423492668_.jpg\"\n            alt=\"\"\n          />\n          <div>\n            <h3>Hello, {this.props.user?.email}</h3>\n            <h2 className=\"checkout__title\">Your shopping Basket</h2>\n\n            {this.renderCheckoutProduct(this.props.basket)}\n          </div>\n        </div>\n        <div className=\"checkout__right\">\n          <Subtotal />\n        </div>\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = (state) => {\n  return { basket: state.basket, user: state.user };\n};\n\nexport default connect(mapStateToProps)(Checkout);\n","import React from \"react\";\nimport \"./Login.css\";\nimport { auth } from \"../firebase\";\nimport history from \"./history\";\nimport { Link } from \"react-router-dom\";\nimport { Field, reduxForm } from \"redux-form\";\nimport { connect } from \"react-redux\";\nimport _ from \"lodash\";\n\nclass Login extends React.Component {\n  renderInput = ({ input, label, type }) => {\n    return (\n      <React.Fragment>\n        <h5>{label}</h5>\n        <input {...input} autoComplete=\"off\" type={type} />\n      </React.Fragment>\n    );\n  };\n\n  onSubmit = (formValues) => {\n    auth\n      .signInWithEmailAndPassword(this.props.email, this.props.password)\n      .then((auth) => {\n        history.push(\"/\");\n      })\n      .catch((err) => alert(err.message));\n  };\n\n  register = (e) => {\n    e.preventDefault();\n    // Some thing with fire base\n    auth\n      .createUserWithEmailAndPassword(this.props.email, this.props.password)\n      .then((auth) => {\n        // it successfully created a new user\n        // with email and password\n        console.log(auth);\n        if (auth) {\n          history.push(\"/\");\n        }\n      })\n      .catch((err) => alert(err.message));\n  };\n\n  render() {\n    return (\n      <div className=\"login\">\n        <Link to=\"/\">\n          <img\n            className=\"login__logo\"\n            src=\"https://upload.wikimedia.org/wikipedia/commons/thumb/a/a9/Amazon_logo.svg/1024px-Amazon_logo.svg.png\"\n            alt=\"\"\n          />\n        </Link>\n        <div className=\"login__container\">\n          <h1>Sign-in</h1>\n          <form onSubmit={this.props.handleSubmit(this.onSubmit)}>\n            <Field\n              type=\"text\"\n              label=\"E-mail\"\n              name=\"email\"\n              component={this.renderInput}\n            />\n            <Field\n              type=\"password\"\n              label=\"Password\"\n              name=\"password\"\n              component={this.renderInput}\n            />\n\n            <button type=\"submit\" className=\"login__signInButton\">\n              Sign In\n            </button>\n          </form>\n\n          <p>\n            By signing-in you agree to the AMAZON FAKE CLONE Conditions of Use &\n            Sale. Please see our Privacy Notice, our Cookie Notice and our\n            Interest-Based Ds Notices.\n          </p>\n          <button onClick={this.register} className=\"login__registerButton\">\n            Create your Amazon account\n          </button>\n        </div>\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = (state) => {\n  if (_.isEmpty(state.form)) return { email: \"\", password: \"\" };\n  if (!state.form.signIn.hasOwnProperty(\"values\"))\n    return { email: \"\", password: \"\" };\n  const { email, password } = state.form.signIn.values;\n  return { email, password };\n};\n\nconst form = reduxForm({\n  form: \"signIn\",\n})(Login);\n\nexport default connect(mapStateToProps)(form);\n","import axios from \"axios\";\n\nconst instance = axios.create({\n  baseURL: \"http://localhost:5001/challange-d6c64/us-central1/api\", // THE API (cloud function) URL\n});\n\nexport default instance;\n","import React, { useState, useEffect } from \"react\";\nimport axios from \"./axios\";\nimport \"./Payment.css\";\nimport history from \"./history\";\nimport CheckoutProduct from \"./CheckoutProduct\";\nimport { emptyBasket } from \"../actions\";\nimport { db } from \"../firebase\";\nimport { connect } from \"react-redux\";\nimport { Link } from \"react-router-dom\";\nimport { CardElement, useStripe, useElements } from \"@stripe/react-stripe-js\";\nimport CurrencyFormat from \"react-currency-format\";\n\nfunction Payment({ user, basket, emptyBasket }) {\n  const stripe = useStripe();\n  const elements = useElements();\n\n  const [succeeded, setSucceeded] = useState(false);\n  const [processing, setProcessing] = useState(\"\");\n  const [error, setError] = useState(null);\n  const [disabled, setDisabled] = useState(true);\n  const [clientSecret, setClientSecret] = useState(true);\n\n  const total = basket\n    ?.map((item) => item.price)\n    ?.reduce((acc, cur) => acc + cur, 0);\n\n  useEffect(() => {\n    //generate the special stripe secret\n    const getClientSecret = async () => {\n      const response = await axios({\n        method: \"post\",\n        // Stripe expects the total in a currencies subunits\n        url: `/payments/create?total=${total * 100}`,\n      });\n      setClientSecret(response.data.clientSecret);\n    };\n\n    getClientSecret();\n  }, [basket]);\n\n  console.log(\"THE SECRET IS >>>\", clientSecret);\n  console.log(user);\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    setProcessing(true);\n\n    const payload = await stripe\n      .confirmCardPayment(clientSecret, {\n        payment_method: {\n          card: elements.getElement(CardElement),\n        },\n      })\n      .then(({ paymentIntent }) => {\n        // paymentIntent = payment confirmation\n        db.collection(\"users\")\n          .doc(user?.uid)\n          .collection(\"orders\")\n          .doc(paymentIntent.id)\n          .set({\n            basket: basket,\n            amount: paymentIntent.amount,\n            created: paymentIntent.created,\n          });\n\n        setSucceeded(true);\n        setError(null);\n        setProcessing(false);\n\n        emptyBasket();\n\n        history.replace(\"/orders\");\n      });\n  };\n\n  const handleChange = (e) => {\n    setDisabled(e.empty);\n    setError(e.error ? e.error.message : \"\");\n  };\n\n  return (\n    <div className=\"payment\">\n      <div className=\"payment__container\">\n        <h1>\n          Checkout(<Link to=\"checkout\">{basket?.length} item</Link>)\n        </h1>\n        {/* Payment section - delvery address */}\n        <div className=\"payment__section\">\n          <div className=\"payment__title\">\n            <h3>Delivery Address</h3>\n          </div>\n          <div className=\"payment__address\">\n            <p>{user?.email}</p>\n            <p>41 Mac Dinh Chi Street</p>\n            <p>Dong Hoi, Quang Binh</p>\n          </div>\n        </div>\n        {/* Payment section - Review Items */}\n        <div className=\"payment__section\">\n          <div className=\"payment__title\">\n            <h3>Review items and delivery</h3>\n          </div>\n          <div className=\"payment__items\">\n            {basket.map((item, i) => {\n              const { id, rating, title, image, price } = item;\n              return (\n                <CheckoutProduct\n                  number={i}\n                  key={i}\n                  id={id}\n                  rating={rating}\n                  title={title}\n                  image={image}\n                  price={price}\n                />\n              );\n            })}\n          </div>\n        </div>\n\n        {/* Payment section - Payment method*/}\n        <div className=\"payment__section\">\n          <div className=\"payment__title\">\n            <h3>Payment Method</h3>\n          </div>\n          <div className=\"payment__details\">\n            {/* Stripe magic will go */}\n            <form onSubmit={handleSubmit}>\n              <CardElement onChange={handleChange} />\n\n              <div className=\"payment__priceContent\">\n                <CurrencyFormat\n                  renderText={(value) => (\n                    <>\n                      <h3>Order Total: {value} </h3>\n                    </>\n                  )}\n                  decimalScale={2}\n                  value={total}\n                  displayType={\"text\"}\n                  thousandSeparator={true}\n                  prefix={\"$\"}\n                />\n                <button disabled={processing || disabled || succeeded || !user}>\n                  {\" \"}\n                  <span>{processing ? <p>Processing</p> : \"Buy Now\"}</span>\n                </button>\n                {!user && <small>Your have to Sign In</small>}\n              </div>\n\n              {/* Error */}\n              {error && <div>{error}</div>}\n            </form>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nconst mapStateToProps = (state) => {\n  return { user: state.user, basket: state.basket };\n};\n\nexport default connect(mapStateToProps, { emptyBasket })(Payment);\n","import React from \"react\";\nimport \"./Order.css\";\nimport moment from \"moment\";\nimport CheckoutProduct from \"./CheckoutProduct\";\nimport CurrencyFormat from \"react-currency-format\";\n\nfunction Order({ order }) {\n  return (\n    <div className=\"order\">\n      <h2>Order</h2>\n      <p>{moment.unix(order.data.created).format(\"MMMM Do YYYY, h:mma\")}</p>\n\n      <p className=\"order_id\">\n        <small>{order.id}</small>\n      </p>\n      {order.data.basket?.map((item, i) => (\n        <CheckoutProduct\n          number={i}\n          key={i}\n          id={item.id}\n          title={item.title}\n          image={item.image}\n          price={item.price}\n          rating={item.rating}\n          hideButton={true}\n        />\n      ))}\n      <CurrencyFormat\n        renderText={(value) => (\n          <>\n            <h3 className=\"order__total\">Order Total: {value}</h3>\n          </>\n        )}\n        decimalScale={2}\n        value={order.data.amount / 100}\n        displayType={\"text\"}\n        thousandSeparator={true}\n        prefix={\"$\"}\n      />\n    </div>\n  );\n}\n\nexport default Order;\n","import React, { useEffect, useState } from \"react\";\nimport { db } from \"../firebase\";\nimport \"./Orders.css\";\nimport { connect } from \"react-redux\";\nimport Order from \"./Order\";\n\nfunction Orders({ basket, user }) {\n  const [orders, setOrders] = useState([]);\n\n  useEffect(() => {\n    if (user) {\n      db.collection(\"users\")\n        .doc(user?.uid)\n        .collection(\"orders\")\n        .orderBy(\"created\", \"desc\")\n        .onSnapshot((snapshot) =>\n          setOrders(\n            snapshot.docs.map((doc) => ({\n              id: doc.id,\n              data: doc.data(),\n            }))\n          )\n        );\n    } else {\n      setOrders([]);\n    }\n  }, [user]);\n  console.log(orders);\n  return (\n    <div className=\"orders\">\n      <h1>Your orders123</h1>\n      <div className=\"orders_order\">\n        {orders?.map((order) => (\n          <Order order={order} />\n        ))}\n      </div>\n    </div>\n  );\n}\n\nconst mapStateToProps = (state) => {\n  return { basket: state.asket, user: state.user };\n};\n\nexport default connect(mapStateToProps)(Orders);\n","import React, { useEffect } from \"react\";\nimport { Router, Switch, Route } from \"react-router-dom\";\nimport { connect } from \"react-redux\";\n\nimport \"./App.css\";\nimport Header from \"./Header\";\nimport Home from \"./Home\";\nimport Checkout from \"./Checkout\";\nimport Login from \"./Login\";\nimport Payment from \"./Payment\";\nimport Orders from \"./Orders\";\nimport history from \"./history\";\nimport { auth } from \"../firebase\";\nimport { setUser, logOutUser } from \"../actions\";\nimport { loadStripe } from \"@stripe/stripe-js\";\nimport { Elements } from \"@stripe/react-stripe-js\";\n\nconst promise = loadStripe(\n  \"pk_test_51IqC7DFQNN1otKrQyy8H29NVpzwsZcFDQCBdwPjS1K1RwpzAih4V1ojied5mUGRFH8XzmiGktGi1j2NVbARi2sIr00X5MxlDcQ\"\n);\n\nfunction App({ setUser, logOutUser }) {\n  useEffect(() => {\n    auth.onAuthStateChanged((authUser) => {\n      console.log(\"THE USER IS >>>>>\", authUser);\n      if (authUser) {\n        // the user just logged in / was logged in\n        setUser(authUser);\n      } else {\n        logOutUser();\n        console.log(\"haha\");\n        //the use is logged out\n      }\n    });\n  }, []);\n\n  return (\n    <Router history={history}>\n      <div className=\"App\">\n        <Switch>\n          <Route path=\"/orders\">\n            <Header />\n            <Orders />\n          </Route>\n          <Route path=\"/login\">\n            <Login />\n          </Route>\n          <Route path=\"/checkout\">\n            <Header />\n            <Checkout />\n          </Route>\n          <Route path=\"/payment\">\n            <Header />\n            <Elements stripe={promise}>\n              <Payment />\n            </Elements>\n          </Route>\n          <Route path=\"/\">\n            <Header />\n            <Home />\n          </Route>\n        </Switch>\n      </div>\n    </Router>\n  );\n}\n\nexport default connect(null, { setUser, logOutUser })(App);\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import { combineReducers } from \"redux\";\nimport { reducer as formReducer } from \"redux-form\";\nimport basketReducer from \"./basketReducer\";\nimport userReducer from \"./userReducer\";\nimport intervalReducer from \"./intervalReducer\";\nexport default combineReducers({\n  basket: basketReducer,\n  form: formReducer,\n  user: userReducer,\n  interval: intervalReducer,\n});\n","import {\n  ADD_TO_BASKET,\n  EMPTY_BASKET,\n  REMOVE_FROM_BASKET,\n} from \"../actions/types\";\n\nexport default (state = [], action) => {\n  switch (action.type) {\n    case ADD_TO_BASKET:\n      console.log(\"add\");\n      return [...state, action.payload];\n    case REMOVE_FROM_BASKET:\n      console.log(\"remove\");\n      return [...state].filter((_, i) => i !== action.payload);\n    case EMPTY_BASKET:\n      return [];\n    default:\n      return state;\n  }\n};\n","import { LOG_OUT_USER, SET_USER } from \"../actions/types\";\n\nexport default (state = null, action) => {\n  switch (action.type) {\n    case SET_USER:\n      return action.payload;\n    case LOG_OUT_USER:\n      return null;\n    default:\n      return state;\n  }\n};\n","import { INTERVAL } from \"../actions/types\";\n\nexport default (state = null, action) => {\n  switch (action.type) {\n    case INTERVAL:\n      console.log(\"interval success\");\n      return action.payload;\n    default:\n      console.log(\"interval fail\");\n      return state;\n  }\n};\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { Provider } from \"react-redux\";\nimport { createStore, applyMiddleware, compose } from \"redux\";\nimport reduxThunk from \"redux-thunk\";\n\nimport \"./index.css\";\nimport App from \"./components/App\";\nimport reportWebVitals from \"./reportWebVitals\";\nimport reducers from \"./reducers\";\n\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\n\nconst store = createStore(\n  reducers,\n  composeEnhancers(applyMiddleware(reduxThunk))\n);\n\nReactDOM.render(\n  <Provider store={store}>\n    <App />\n  </Provider>,\n  document.getElementById(\"root\")\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}